<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>–ü—Ä–æ–≥—Ä–µ—Å—Å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</title>
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>‚≠êMy Stars‚≠ê</h1>
            <div class="sync-status" id="syncStatus">üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è...</div>
        </header>

        <!-- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
        <div id="mainPage" class="page active">
            <div class="main-title">–ü—Ä–æ–≥—Ä–µ—Å—Å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∫—É—Ä—Å–∞</div>

            <!-- –ü–æ–∏—Å–∫ -->
            <div class="search-container">
                <input type="text" id="searchInput" class="search-input" placeholder="üîç –ü–æ–∏—Å–∫ —É—á–∞—Å—Ç–Ω–∏–∫–∞..." oninput="filterParticipants()">
            </div>

            <!-- –¢–û–ü-3 -->
            <div class="top3-section">
                <div class="top3-title">üèÜ –¢–û–ü-3</div>
                <div class="top3-container" id="top3Container">
                    <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –¢–û–ü-3 –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>

            <!-- –í—Å–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏ -->
            <div class="all-participants-grid" id="allParticipantsGrid">
                <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>

            <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
            <div class="nav-buttons">
                <button class="nav-btn-blue" onclick="showPage('worksPage')">üìÑ –í–∞—à–∏ —Ä–∞–±–æ—Ç—ã</button>
                <button class="nav-btn-blue" onclick="showPage('adminPage')">‚öôÔ∏è –ê–¥–º–∏–Ω–∫–∞</button>
            </div>
        </div>

        <!-- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å -->
        <div id="adminPage" class="page">
            <h2 style="text-align: center; color: #ffd700; margin-bottom: 20px;">üìä –í–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –Ω–µ–¥–µ–ª–∏</h2>
            
            <div class="admin-panel">
                <div class="week-selector">
                    <label for="weekNumber">–ù–æ–º–µ—Ä –Ω–µ–¥–µ–ª–∏:</label>
                    <input type="number" id="weekNumber" class="week-input" min="1" value="1">
                </div>
                
                <div class="rating-input">
                    <div class="rating-column">
                        <div class="rating-title">‚ö° –°–∫–æ—Ä–æ—Å—Ç—å (1-–µ –º–µ—Å—Ç–æ ‚Äî —Å–≤–µ—Ä—Ö—É)</div>
                        <div id="speedInputs"></div>
                    </div>
                    <div class="rating-column">
                        <div class="rating-title">‚úÖ –û—à–∏–±–∫–∏ (1-–µ –º–µ—Å—Ç–æ ‚Äî —Å–≤–µ—Ä—Ö—É)</div>
                        <div id="errorsInputs"></div>
                    </div>
                </div>
                
                <button class="save-btn" onclick="saveWeeklyResults()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–µ–¥–µ–ª–∏</button>
            </div>
            
            <div class="nav-buttons">
                <button class="nav-btn-blue" onclick="showPage('mainPage')">üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é</button>
            </div>
        </div>

        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–∞–±–æ—Ç -->
        <div id="worksPage" class="page">
            <div style="text-align: center; margin-bottom: 20px;">
                <h2 style="color: #0066ff; text-shadow: 0 0 15px rgba(0, 100, 255, 0.7); font-size: 1.4em;">
                    üìÑ –í–∞—à–∏ –†–∞–±–æ—Ç—ã
                </h2>
            </div>
            
            <!-- –°–µ—Ç–∫–∞ –≤—Å–µ—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ -->
            <div class="students-grid" id="studentsGrid"></div>
            
            <!-- –°–µ–∫—Ü–∏—è —Ä–∞–±–æ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞ -->
            <div class="student-works-section" id="studentWorksSection">
                <div class="selected-student-header">
                    <div class="selected-student-name" id="selectedStudentName">üìÑ –í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç—É–¥–µ–Ω—Ç–∞</div>
                    <button class="close-works" onclick="closeStudentWorks()">‚úï –ó–∞–∫—Ä—ã—Ç—å</button>
                </div>
                <div id="worksList"></div>
            </div>
            
            <div class="nav-buttons">
                <button class="nav-btn-blue" onclick="showPage('mainPage')">‚≠ê –ö —Ä–µ–π—Ç–∏–Ω–≥–∞–º</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ -->
    <div id="imageModal" class="modal">
        <span class="close" onclick="closeModal()">&times;</span>
        <img class="modal-content" id="fullscreenImage">
    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –Ω–∞—à JS -->
    <script src="script.js"></script>
</body>
</html>
